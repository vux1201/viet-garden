import{_ as v,u as c,m as _,S as p,g as b,r as k,o as h,c as u,a as e,h as N,i as l,v as r,t as d,k as m,b as w,w as y,F as S,d as g,e as x,p as V,f as F}from"./index-eee19d7a.js";const P={data(){return{fullname:"",address:"",phone_number:"",email:"",password:"",res:"",store:c(),errSignup1:"",errSignup2:"",error:"",errorName:"",checkNumber:0,checkName:0}},methods:{..._(c,["register","getProfile"]),async signup(){try{const t={fullname:this.fullname,address:this.address,phone_number:this.phone_number,email:this.email,password:this.password};if(this.checkNumber=this.validatePhoneNumber(),this.checkName=this.validateFullname(),this.checkNumber==1&&this.checkName==1){const s=await this.register({data:t});s.status==200&&(console.log(s),p.fire({position:"top-center",icon:"success",title:"Đăng ký tài khoản thành công",showConfirmButton:!1,timer:1500}),setTimeout(()=>{this.$router.push({path:"/login"})},"2300"),await this.getProfile(this.params),p.fire({position:"top-center",icon:"success",title:"Thêm thành công",showConfirmButton:!1,timer:2e3}))}else console.log("err phone ")}catch(t){console.log(t,"errSiUp"),(t==null?void 0:t.response.data.detail)=="User with this email already exist"?this.errSignup1="Email đã tồn tại, vui lòng nhập email khác!":this.errSignup1="",(t==null?void 0:t.response.data.detail)=="Mật khẩu phải có ít nhất 8 kí tự, bao gồm 1 chữ hoa, 1 chữ thường, 1 chữ số, 1 kí tự đặc biệt"?this.errSignup2="Mật khẩu phải có ít nhất 8 kí tự, bao gồm 1 chữ hoa, 1 chữ thường, 1 chữ số, 1 kí tự đặc biệt":this.errSignup2=""}},validateFullname(){const t=/^([a-vxyỳọáầảấờễàạằệếýộậốũứĩõúữịỗìềểẩớặòùồợãụủíỹắẫựỉỏừỷởóéửỵẳẹèẽổẵẻỡơôưăêâđ]+)((\s{1}[a-vxyỳọáầảấờễàạằệếýộậốũứĩõúữịỗìềểẩớặòùồợãụủíỹắẫựỉỏừỷởóéửỵẳẹèẽổẵẻỡơôưăêâđ]+){1,})$/g;if(this.fullname.match(t))return this.errorName="",console.log("209 true"),1;this.errorName="Vui lòng nhập đầy đủ họ tên của bạn",console.log("213 false")},validatePhoneNumber(){const t=/(0[3|5|7|8|9])+([0-9]{8})\b/g;if(this.phone_number.match(t))return this.error="",1;this.error="Vui lòng nhập số điện thoại hợp lệ"}},computed:{...b(c,["auth"])}},n=t=>(V("data-v-2fd08047"),t=t(),F(),t),U=g('<section class="sub-bg" data-v-2fd08047><div class="container" data-v-2fd08047><div class="sub-head" style="top:15px;" data-v-2fd08047><a href="/home" data-v-2fd08047><i class="fa fa-home" data-v-2fd08047></i>Trang chủ </a><span data-v-2fd08047> Đăng Ký</span></div></div></section>',1),T={class:"bg-dark"},B={class:"container"},C=n(()=>e("div",{class:"title-signin"},[e("h2",null,"Tạo Tài Khoản"),e("h4",null,"Bạn đã có tài khoản?"),e("a",{href:"/login"},"Đăng Nhập")],-1)),M={class:"col-signin-left"},q={class:"input-group"},I=n(()=>e("div",{class:"input-group-addon"},[e("i",{class:"fa fa-user"})],-1)),K={key:0,class:"err-phone-number"},D={class:"input-group"},E=n(()=>e("div",{class:"input-group-addon"},[e("i",{class:"fa fa-home"})],-1)),L={class:"input-group"},R=n(()=>e("div",{class:"input-group-addon"},[e("i",{class:"fa fa-phone"})],-1)),A={key:1,class:"err-phone-number"},G={class:"input-group"},j=n(()=>e("div",{class:"input-group-addon"},[e("i",{class:"fa-light fa-envelope"})],-1)),z={class:"errMes"},H={class:"input-group"},J=n(()=>e("div",{class:"input-group-addon"},[e("i",{class:"fa fa-key"})],-1)),O={class:"errMes"},Q={class:"col-signin-right"},W=g('<a class="btn btn-block btn-social btn-facebook" style="margin:3px;" data-v-2fd08047><i class="fa fa-facebook" data-v-2fd08047></i>    <i class="login-with" data-v-2fd08047>Login with Facebook</i></a><a href="#" class="btn btn-block btn-social btn-google-plus" data-v-2fd08047><i class="fa-brands fa-google-plus-g" data-v-2fd08047></i>    <i class="login-with" data-v-2fd08047>Login with Google</i></a>',2),X=n(()=>e("div",{class:"button-signin"},[e("button",{type:"submit"},"Đăng ký")],-1));function Y(t,s,Z,$,o,a){const f=k("center");return h(),u(S,null,[U,e("div",T,[e("div",B,[e("form",{class:"content-page",onSubmit:s[8]||(s[8]=N((...i)=>a.signup&&a.signup(...i),["prevent"]))},[C,e("div",M,[e("ul",null,[e("li",null,[e("div",q,[I,l(e("input",{type:"text",class:"form-control",placeholder:"Nhập họ & tên...",required:"","onUpdate:modelValue":s[0]||(s[0]=i=>o.fullname=i),onKeyup:s[1]||(s[1]=(...i)=>a.validateFullname&&a.validateFullname(...i))},null,544),[[r,o.fullname]])])]),o.errorName?(h(),u("span",K,d(o.errorName),1)):m("",!0),e("li",null,[e("div",D,[E,l(e("input",{type:"text",class:"form-control",placeholder:"Nhập địa chỉ...",required:"","onUpdate:modelValue":s[2]||(s[2]=i=>o.address=i)},null,512),[[r,o.address]])])]),e("li",null,[e("div",L,[R,l(e("input",{type:"text",class:"form-control",placeholder:"Nhập số điện thoại...",required:"","onUpdate:modelValue":s[3]||(s[3]=i=>o.phone_number=i),onKeyup:s[4]||(s[4]=(...i)=>a.validatePhoneNumber&&a.validatePhoneNumber(...i))},null,544),[[r,o.phone_number]])])]),o.error?(h(),u("span",A,d(o.error),1)):m("",!0),e("li",null,[e("div",G,[j,l(e("input",{id:"email",type:"email",class:"form-control",placeholder:"Nhập email...",required:"","onUpdate:modelValue":s[5]||(s[5]=i=>o.email=i)},null,512),[[r,o.email]])])]),e("div",z,d(o.errSignup1),1),e("li",null,[e("div",H,[J,l(e("input",{id:"password",type:"text",class:"form-control",placeholder:"Nhập mật khẩu...",onChange:s[6]||(s[6]=(...i)=>t.isPasswordValid&&t.isPasswordValid(...i)),required:"","onUpdate:modelValue":s[7]||(s[7]=i=>o.password=i)},null,544),[[r,o.password]])])]),e("div",O,d(o.errSignup2),1)])]),e("div",Q,[w(f,null,{default:y(()=>[x("Đăng nhập bằng tài khoản mạng xã hội")]),_:1}),W]),X],32)])])],64)}const se=v(P,[["render",Y],["__scopeId","data-v-2fd08047"]]);export{se as default};
