import{u as y}from"./UserSearch-27d7ffe7.js";import{_ as b,m as S,S as V,g as k,r as h,o as i,c as d,a as e,b as p,e as c,t as r,F as P,l as x,k as g,i as _,v as m,u as U,p as N,f as C}from"./index-eee19d7a.js";const T={data(){return{show:!1,page:1,size:10,detailUser:{fullname:"",email:"",phone_number:"",address:"",password:""}}},async created(){try{this.params.page=1,this.params.size=50,await this.getUsers(this.params),console.log("allUsers",this.allUsers)}catch(l){console.log(l)}},methods:{...S(U,["getUser","getUsers","register"]),async onDetailUser(l){try{await this.getUser({id:l}),console.log(l,"ied"),console.log("detailUser",this.detailUser)}catch(t){console.log(t)}},addProducts(){this.show=!this.show},async addNewUser(){console.log(this.detailUser);try{let l=this.detailUser;const t=await this.register({data:l});t.status==200&&(this.res=t,V.fire({position:"top-center",icon:"success",title:"Tạo thành công!",showConfirmButton:!1,timer:2e3}),await this.getUsers(this.params),this.show=!1)}catch(l){console.log(l)}},async updatePage(l,t){try{this.params.page=l,this.params.size=t,await this.getUsers(this.params)}catch(u){console.log(u)}}},computed:{...k(U,["allUsers","detailUser","totalUsers","params"]),totalPages(){let l=this.totalUsers.total/this.size;return Math.ceil(l)}},components:{userSearch:y}},n=l=>(N("data-v-fee612fc"),l=l(),C(),l),z={class:"content"},I={key:0,class:"show-products"},M={class:"head"},B=n(()=>e("div",{class:"title1"},"Quản lý người dùng",-1)),D=n(()=>e("i",{class:"fa-light fa-circle-plus"},null,-1)),E={style:{left:"20px",color:"rgb(9, 90, 106)"}},q={class:"container"},F=n(()=>e("thead",null,[e("th",null,"ID"),e("th",null,"Họ tên"),e("th",null,"Email"),e("th",null,"Số điện thoại"),e("th",null,"Địa chỉ"),e("th",null,"Quản trị viên")],-1)),L={class:"text-center"},Q={key:1,class:"show-addProducts"},A={class:"dialog"},H=n(()=>e("h2",{class:"title1"},"Thông tin người dùng",-1)),j={class:"form-input"},G=n(()=>e("label",null,[c("Email "),e("a",{title:"trường bắt buộc"},"(*)")],-1)),J={class:"form-input"},K=n(()=>e("label",null,[c("Mật khẩu "),e("a",{title:"trường bắt buộc"},"(*)")],-1)),O={class:"footer"};function R(l,t,u,W,a,o){const f=h("userSearch"),w=h("v-pagination");return i(),d("div",z,[a.show==!1?(i(),d("div",I,[e("div",M,[B,p(f)]),e("button",{class:"btn-adduser",onClick:t[0]||(t[0]=(...s)=>o.addProducts&&o.addProducts(...s))},[D,c(" Thêm người dùng ")]),e("div",E," Số người dùng: "+r(l.totalUsers.total),1),e("table",q,[F,e("tbody",null,[(i(!0),d(P,null,x(l.allUsers,(s,v)=>(i(),d("tr",{key:v},[e("td",null,"#"+r(s.id),1),e("td",null,r(s.fullname?s.fullname:"---"),1),e("td",null,r(s.email),1),e("td",null,r(s.phone_number?s.phone_number:"---"),1),e("td",null,r(s.address?s.address:"---"),1),e("td",null,r(s.is_admin),1)]))),128))])]),e("div",L,[p(w,{modelValue:a.page,"onUpdate:modelValue":[t[1]||(t[1]=s=>a.page=s),t[2]||(t[2]=s=>o.updatePage(a.page,a.size))],length:o.totalPages,rounded:"circle"},null,8,["modelValue","length"])])])):g("",!0),a.show==!0?(i(),d("div",Q,[e("div",A,[H,e("div",j,[G,_(e("input",{type:"text",style:{width:"30rem"},required:"","onUpdate:modelValue":t[3]||(t[3]=s=>a.detailUser.email=s)},null,512),[[m,a.detailUser.email]])]),e("div",J,[K,_(e("input",{type:"text",style:{width:"30rem"},required:"","onUpdate:modelValue":t[4]||(t[4]=s=>a.detailUser.password=s)},null,512),[[m,a.detailUser.password]])]),e("div",O,[e("button",{class:"btn-adduser",type:"submit",onClick:t[5]||(t[5]=(...s)=>o.addNewUser&&o.addNewUser(...s))}," Lưu "),e("button",{class:"btn-adduser",type:"reset",onClick:t[6]||(t[6]=(...s)=>o.addProducts&&o.addProducts(...s))}," Thoát ")])])])):g("",!0)])}const Z=b(T,[["render",R],["__scopeId","data-v-fee612fc"]]);export{Z as default};
