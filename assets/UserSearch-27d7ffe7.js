import{u as i,m as c,g as h,_ as m,q as d,r as _,o as f,c as v,a as e,i as S,v as y,A as k,e as r,t as w,b as p,w as g,p as x,f as I}from"./index-eee19d7a.js";const P={data(){return{store:i()}},async created(){try{if(await this.getUsers(this.params),this.auth.user.is_admin===!0){const t=localStorage.getItem("isLoggedIn"),s=localStorage.getItem("user");!t&&!s&&this.$router.push({path:"/login"})}else this.$router.push({path:"/home"})}catch(t){console.error(t)}},methods:{...c(i,["logout","getUsers"]),...c(d,["getProducts"]),async onSearch(){console.log("search",this.params),this.params.keyword=this.searchProduct,await this.getProducts(this.params),await this.getUsers(this.params),this.showSearches=!1,this.params.page=1},async searchText(t){let s=t.target.value;console.log(s),s===""&&this.onSearch()},handleLogOut(){this.logout(),this.$router.push({path:"/login"})}},computed:{...h(d,["allProducts","params"]),...h(i,["allUsers","auth"])}},l=t=>(x("data-v-8d542456"),t=t(),I(),t),U={class:"user"},T={class:"search"},L={class:"username"},C=l(()=>e("i",{class:"fa-solid fa-circle-user"},null,-1)),V={class:"hover-user"},$=l(()=>e("i",{class:"fa-light fa-file-invoice"},null,-1)),B=l(()=>e("i",{class:"fa-solid fa-key"},null,-1)),D=l(()=>e("i",{class:"fa fa-arrow-right-from-bracket"},null,-1));function K(t,s,N,O,b,o){var u;const n=_("router-link");return f(),v("div",U,[e("div",T,[S(e("input",{type:"text",placeholder:"Tìm Kiếm...","onUpdate:modelValue":s[0]||(s[0]=a=>t.searchProduct=a),onKeyup:s[1]||(s[1]=k(a=>o.onSearch(),["enter"])),onInput:s[2]||(s[2]=a=>o.searchText(a))},null,544),[[y,t.searchProduct]]),e("span",null,[e("i",{class:"fa fa-magnifying-glass",onClick:s[3]||(s[3]=a=>o.onSearch())})])]),e("div",L,[e("a",null,[C,r(" "+w((u=this.store.auth.user)==null?void 0:u.fullname),1)])]),e("ul",V,[e("li",null,[p(n,{to:"/thong-tin-tai-khoan"},{default:g(()=>[$,r(" Thông tin tài khoản")]),_:1})]),e("li",null,[p(n,{to:"thay-doi-mat-khau"},{default:g(()=>[B,r(" Đổi mật khẩu")]),_:1})]),e("li",{onClick:s[4]||(s[4]=(...a)=>o.handleLogOut&&o.handleLogOut(...a))},[D,r(" Đăng xuất ")])])])}const q=m(P,[["render",K],["__scopeId","data-v-8d542456"]]);export{q as u};
